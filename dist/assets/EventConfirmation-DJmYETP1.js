import{u as k,r as h,j as e,b as D}from"./app-XaT7IJdh.js";import{B as C}from"./BottomNavbar-DqHaFEyb.js";/* empty css            */function L(){const{event:n,registration:d}=k().props,[a,Q]=h.useState(""),[l,c]=h.useState(!1),m=o=>{const[y,v]=o.split("T"),[N,f,w]=y.split("-"),[S,I]=v.split(":");return new Date(parseInt(N),parseInt(f)-1,parseInt(w),parseInt(S),parseInt(I))},s=m(n.start_date_plain),r=m(n.end_date_plain),t=new Date,u=t>=s&&t<=r,g=t.toISOString().split("T")[0]===s.toISOString().split("T")[0],i=g||u,x=!g&&t<s,p=async()=>{if(i){c(!0);try{D.visit(route("events.qr.show",{id:n.id}))}catch(o){console.error(o)}finally{c(!1)}}},b=s.toLocaleDateString("id-ID",{weekday:"long",day:"2-digit",month:"long",year:"numeric"}),j=`${s.toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"})} s.d ${r.toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"})}`;return e.jsx("div",{className:"bg-white min-h-screen p-4",children:e.jsxs("div",{className:"max-w-md mx-auto text-gray-900",children:[e.jsx("h1",{className:"text-xl font-bold mb-6 text-center",children:"Bukti Pendaftaran"}),e.jsxs("div",{className:"grid grid-cols-2 text-sm mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Profil Peserta"}),e.jsx("p",{className:"font-medium",children:d.user.name}),e.jsx("p",{className:"text-gray-600 text-xs",children:d.user.murid.kelas.name})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-gray-500",children:"Event"}),e.jsx("p",{className:"font-medium",children:n.title})]})]}),e.jsxs("div",{className:"grid grid-cols-2 text-sm mb-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Hari, Tanggal"}),e.jsx("p",{className:"font-semibold",children:b})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-gray-500",children:"Waktu"}),e.jsx("p",{className:"font-semibold",children:j})]})]}),x&&!a&&e.jsx("div",{className:"mb-4",children:e.jsx("img",{src:"/images/coming-soon.png",alt:"Coming Soon",className:"rounded-lg shadow-md w-full object-cover"})}),a&&e.jsx("div",{className:"text-center mb-6",children:e.jsxs("div",{className:"inline-block p-4 bg-white border border-gray-200 rounded-lg",children:[e.jsx("div",{className:"p-4 border-2 border-dashed border-gray-300 mb-2",children:e.jsx("div",{dangerouslySetInnerHTML:{__html:a}})}),e.jsx("p",{className:"text-sm text-gray-600",children:"Scan QR ini saat hadir di event"})]})}),!a&&e.jsx("p",{className:"text-xs text-gray-500 text-center mb-4",children:x?`QR Code baru tersedia mulai ${s.toLocaleDateString("id-ID",{weekday:"long",day:"2-digit",month:"short"})}`:t>r?"Event telah berakhir":"Scan QR pas hari H buat buktiin kamu hadir, ya!"}),!a&&e.jsx("button",{onClick:p,disabled:!i||l||t>r,className:`w-full py-2 mb-3 rounded-lg shadow-sm ${i&&t<=r?"bg-green-600 hover:bg-green-700 text-white":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,children:l?"Membuat QR Code...":"Generate QR Code"}),e.jsx("button",{onClick:()=>window.location.href="/murid/events",className:"w-full py-2 rounded-lg border border-orange-400 text-orange-500 hover:bg-orange-50",children:"Selesai"}),e.jsx(C,{})]})})}export{L as default};
