import{u as E,r as t,j as e,H as S,b as i}from"./app-Db-aw5MQ.js";import{B as d}from"./button-CTj6SyfF.js";import{D as M,a as A,b as D,c as j}from"./dropdown-menu-BwQYtQQh.js";import U from"./AdminEskulCreate-BjUhI9OG.js";import _ from"./AdminEskulDetail-CLHxnqtm.js";import H from"./AdminEskulAddAnggota-CMEbJ55_.js";/* empty css            */import"./clsx-B-dksMZM.js";import"./utils-NikRBbYi.js";import"./Combination-CeIkTSzD.js";import"./index-DKaELoCc.js";import"./index-BEN4BbhH.js";import"./index-DRPotTz5.js";import"./index-BngaQRGO.js";function Q(){const{eskuls:o,filters:f}=E().props,[c,b]=t.useState(f.search||""),[N,m]=t.useState(!1),[w,h]=t.useState(!1),[x,u]=t.useState(null),[p,v]=t.useState(null),k=s=>{s.preventDefault(),i.get(route("admin.eskul.index"),{search:c})},y=(s,a)=>{i.get(route("admin.eskul.index"),{page:a,eskul_id:s})};t.useEffect(()=>{const s=JSON.parse(localStorage.getItem("user")||"{}");s&&s.id&&(console.log("📦 User dari localStorage:",s),v(s))},[]);const C=s=>{const{current_page:a,last_page:l}=s.siswa;if(l<=1)return null;const n=[];for(let r=1;r<=l;r++)r===1||r===l||r>=a-2&&r<=a+2?n.push(r):n[n.length-1]!=="…"&&(r===a-3||r===a+3)&&n.push("…");return e.jsx("div",{className:"flex justify-end mt-3",children:e.jsx("div",{className:"flex gap-1 bg-white border border-gray-600 rounded-full px-2 py-1 shadow-sm",children:n.map((r,g)=>r==="…"?e.jsx("span",{className:"px-2 text-gray-500",children:"…"},g):e.jsx("button",{onClick:()=>y(s.id,r),className:`px-3 py-1 rounded-full text-sm ${r===a?"bg-orange-300 text-white font-semibold":"text-gray-700 hover:bg-gray-200"}`,children:r},g))})})};return e.jsxs("div",{className:"min-h-screen bg-gray-100 text-gray-900",children:[e.jsx(S,{title:"Ekstrakurikuler"}),e.jsxs("div",{className:"flex",children:[e.jsx("aside",{className:"w-56 bg-white h-screen p-4 shadow",children:e.jsxs("nav",{className:"space-y-2 text-sm",children:[e.jsx("div",{onClick:()=>window.location.href="/Admin/Dashboard",className:"p-2 rounded hover:bg-gray-200 cursor-pointer",children:"🏠 Dashboard"}),e.jsx("div",{onClick:()=>window.location.href="/Admin/UserManagement",className:"p-2 rounded hover:bg-gray-200 cursor-pointer",children:"👥 User Manajemen"}),e.jsx("div",{onClick:()=>window.location.href="/admin/events",className:"p-2 rounded hover:bg-gray-200 cursor-pointer",children:"📅 Event Manajemen"}),e.jsx("div",{className:"p-2 rounded bg-gray-200 font-medium cursor-pointer",onClick:()=>window.location.href="/admin/eskul",children:"⚽ Ekstrakurikuler"}),e.jsx("div",{className:"p-2 rounded hover:bg-gray-200 cursor-pointer",onClick:()=>window.location.href="/admin/riwayat-kehadiran",children:"📈 Riwayat Kehadiran"}),e.jsx("div",{className:"p-2 rounded hover:bg-gray-200 cursor-pointer",onClick:()=>window.location.href="/admin/statistik-kehadiran",children:"📊 Statistik Kehadiran"}),e.jsx("div",{className:"p-2 rounded hover:bg-gray-200 cursor-pointer",onClick:()=>window.location.href="/admin/laporan-kehadiran",children:"📄 Laporan"})]})}),e.jsxs("main",{className:"flex-1 p-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Ekstrakurikuler"}),e.jsxs("div",{className:"border rounded-lg  flex justify-between p-1 w-69",children:[e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"w-13 h-13 rounded-full overflow-hidden shadow",children:e.jsx("img",{src:p?.avatar||"/default-avatar.png",alt:"Foto Profil",className:"w-full h-full object-cover"})}),e.jsx("h2",{className:"text-[18px] font-semibold text-gray-600 mt-3 ml-2",children:p?.name||"Adminn"})]}),e.jsxs("div",{className:"flex mt-4 ",children:[e.jsx("div",{className:"",children:"🦾"}),e.jsx("div",{className:"",children:"🦾"})]})]})]}),e.jsxs("div",{className:"flex justify-between items-center mb-2 mt-20",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:["Semua Ekstrakurikuler : ",o.length]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("form",{onSubmit:k,className:"flex gap-2",children:e.jsx("input",{type:"text",placeholder:"Cari nama eskul",value:c,onChange:s=>b(s.target.value),className:"border rounded-lg p-1 border border-purple-700"})}),e.jsx(d,{onClick:()=>h(!0),className:"border border-purple-700 bg-white-600 text-gray-900 hover:bg-purple-700 hover:text-white",children:"Tambah Anggota"}),e.jsx(d,{onClick:()=>m(!0),className:"bg-purple-600 hover:bg-purple-700 text-white",children:"Tambah Eskul"})]})]}),o.map(s=>e.jsxs("div",{className:"mb-8 bg-white p-2 rounded-xl shadow border border-[#6200EE]",children:[e.jsx("h2",{className:"text-xl font-semibold mb-3 ml-2",children:s.nama}),e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b",children:[e.jsx("th",{className:"p-2 w-12 text-center",children:"No"}),e.jsx("th",{className:"p-2 text-left",children:"Nama Siswa"}),e.jsx("th",{className:"p-2 text-left",children:"Kelas"}),e.jsx("th",{className:"p-2 text-left",children:"Kejuruan"}),e.jsx("th",{className:"p-2 text-center",children:"Aksi"})]})}),e.jsx("tbody",{children:s.siswa.data.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"text-center p-4 text-gray-500",children:"Belum ada anggota"})}):s.siswa.data.map((a,l)=>e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"p-2 text-center",children:s.siswa.from+l}),e.jsx("td",{className:"p-2",children:a.name}),e.jsx("td",{className:"p-2",children:a.kelas?.name}),e.jsx("td",{className:"p-2",children:a.keahlian||"-"}),e.jsx("td",{className:"p-2 text-center",children:e.jsxs(M,{children:[e.jsx(A,{asChild:!0,children:e.jsx(d,{className:"text-black bg-white cursor-pointer",size:"sm",children:"..."})}),e.jsxs(D,{align:"end",children:[e.jsx(j,{className:"cursor-pointer",onClick:()=>u(s),children:"Detail"}),e.jsx(j,{className:"cursor-pointer text-red-600",onClick:()=>{confirm(`Hapus ${a.name} dari ${s.nama}?`)&&i.delete(route("admin.eskul.removeMember",{eskul:s.id}),{data:{user_id:a.id}})},children:"Hapus"})]})]})})]},a.id))})]}),C(s)]},s.id))]})]}),w&&e.jsx(H,{onClose:()=>h(!1)}),N&&e.jsx(U,{onClose:()=>m(!1)}),x&&e.jsx(_,{eskul:x,onClose:()=>u(null)})]})}export{Q as default};
