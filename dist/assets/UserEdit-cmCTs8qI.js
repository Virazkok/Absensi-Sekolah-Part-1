import{d as N,j as e}from"./app-XaT7IJdh.js";import{B as p}from"./button-CJGk2xfH.js";import{I as t}from"./input-Ip1Z780n.js";import{L as d}from"./label-cTLK_AVk.js";import{S as o,a as x,b as h,c as u,d as n}from"./select-DDqEtzWm.js";import{L as b}from"./loader-circle-igEfraLn.js";/* empty css            */import"./clsx-B-dksMZM.js";import"./utils-NikRBbYi.js";import"./index-DdspcVZP.js";import"./index-DJvn5aD7.js";import"./index-BLXukw4F.js";import"./index-CArVgHNd.js";import"./index-DHwZL11B.js";import"./createLucideIcon-PjBRytQg.js";function D({user:l,kelas:g,eskuls:c,onClose:j}){const{data:i,setData:r,post:v,processing:m,errors:a}=N({_method:"PUT",nis:l.nis||"",name:l.name||"",username:l.username||"",status:String(l?.status??"active"),email:l.email||"",password:"",kelas_id:l.kelas_id||"",keahlian:l.keahlian||"",role:l.role||"murid",eskul_siswa1_id:l.eskul_siswa1_id||"",eskul_siswa2_id:l.eskul_siswa2_id||"",eskul_siswa3_id:l.eskul_siswa3_id||""}),k=s=>{s.preventDefault(),v(`/Admin/UserDetail/${l.id}`,{onSuccess:()=>{j(),window.location.reload()}})};return e.jsx("div",{className:"fixed inset-0 bg-black/40 z-50 flex items-center justify-center",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-[1050px] p-8 overflow-auto max-h-[90vh]",children:[e.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Edit Account"}),e.jsxs("form",{onSubmit:k,className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{children:"Nama"}),e.jsx(t,{value:i.name,onChange:s=>r("name",s.target.value)}),a.name&&e.jsx("p",{className:"text-sm text-red-600",children:a.name})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{children:"NIS"}),e.jsx(t,{value:i.nis,onChange:s=>r("nis",s.target.value)}),a.nis&&e.jsx("p",{className:"text-sm text-red-600",children:a.nis})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{children:"Kelas"}),e.jsxs(o,{value:i.kelas_id||"none",onValueChange:s=>r("kelas_id",s==="none"?"":s),children:[e.jsx(x,{children:e.jsx(h,{placeholder:"Pilih kelas"})}),e.jsxs(u,{children:[e.jsx(n,{value:"none",children:"Belum memilih"}),g.map(s=>e.jsx(n,{value:String(s.id),children:s.name},s.id))]})]}),a.kelas_id&&e.jsx("p",{className:"text-sm text-red-600",children:a.kelas_id})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{children:"Keahlian"}),e.jsx(t,{value:i.keahlian,onChange:s=>r("keahlian",s.target.value)}),a.keahlian&&e.jsx("p",{className:"text-sm text-red-600",children:a.keahlian})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{children:"Email"}),e.jsx(t,{type:"email",value:i.email,onChange:s=>r("email",s.target.value)}),a.email&&e.jsx("p",{className:"text-sm text-red-600",children:a.email})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{children:"Username"}),e.jsx(t,{value:i.username,onChange:s=>r("username",s.target.value)}),a.username&&e.jsx("p",{className:"text-sm text-red-600",children:a.username})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{children:"Password"}),e.jsx(t,{type:"password",value:i.password,onChange:s=>r("password",s.target.value),placeholder:"Kosongkan jika tidak diubah"}),a.password&&e.jsx("p",{className:"text-sm text-red-600",children:a.password})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",children:"Ekstrakurikuler 1"}),e.jsxs("select",{value:i.eskul_siswa1_id,onChange:s=>r("eskul_siswa1_id",s.target.value),className:"w-full border rounded-lg p-2 bg-gray-100",children:[e.jsx("option",{value:"",children:"Pilih Eskul"}),c.map(s=>e.jsx("option",{value:s.id,children:s.nama},s.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",children:"Ekstrakurikuler 2"}),e.jsxs("select",{value:i.eskul_siswa2_id,onChange:s=>r("eskul_siswa2_id",s.target.value),className:"w-full border rounded-lg p-2 bg-gray-100",children:[e.jsx("option",{value:"",children:"Pilih Eskul"}),c.map(s=>e.jsx("option",{value:s.id,children:s.nama},s.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",children:"Ekstrakurikuler 3"}),e.jsxs("select",{value:i.eskul_siswa3_id,onChange:s=>r("eskul_siswa3_id",s.target.value),className:"w-full border rounded-lg p-2 bg-gray-100",children:[e.jsx("option",{value:"",children:"Pilih Eskul"}),c.map(s=>e.jsx("option",{value:s.id,children:s.nama},s.id))]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{children:"Role"}),e.jsxs(o,{value:i.role,onValueChange:s=>r("role",s),children:[e.jsx(x,{children:e.jsx(h,{placeholder:"Pilih role"})}),e.jsxs(u,{children:[e.jsx(n,{value:"murid",children:"Murid"}),e.jsx(n,{value:"guru",children:"Guru"}),e.jsx(n,{value:"admin",children:"Admin"})]})]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{children:"Status"}),e.jsxs(o,{value:i.status,onValueChange:s=>r("status",s),children:[e.jsx(x,{children:e.jsx(h,{placeholder:"Pilih status"})}),e.jsxs(u,{children:[e.jsx(n,{value:"active",children:"Aktif"}),e.jsx(n,{value:"inactive",children:"Nonaktif"})]})]}),a.status&&e.jsx("p",{className:"text-sm text-red-600",children:a.status})]}),e.jsxs("div",{className:"col-span-2 flex justify-center gap-4 mt-6",children:[e.jsx(p,{type:"button",variant:"outline",onClick:()=>j?.(),disabled:m,className:"bg-white border border-gray-300 w-40",children:"Kembali"}),e.jsxs(p,{type:"submit",disabled:m,className:"bg-gray-200 hover:bg-gray-300 text-black w-40",children:[m&&e.jsx(b,{className:"h-4 w-4 animate-spin"}),"Simpan"]})]})]})]})})}export{D as default};
