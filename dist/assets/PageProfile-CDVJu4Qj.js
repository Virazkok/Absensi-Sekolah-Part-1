import{r as t,a as d,j as e,b as c}from"./app-Db-aw5MQ.js";import{B as g}from"./BottomNavbar-CPs9VJ6F.js";import{S as v}from"./settings-BeJB9vMc.js";import{F as N}from"./filter-VEGg2tVV.js";/* empty css            */import"./createLucideIcon-BBcfScga.js";const P=()=>{const[i,x]=t.useState(null),[a,o]=t.useState(null),[n,m]=t.useState("bulan_ini"),[l,h]=t.useState("sekolah"),[u,p]=t.useState([]),[r,j]=t.useState(null);if(t.useEffect(()=>{d.get("/api/student/me").then(s=>x(s.data)),d.get("/api/student/eskuls").then(s=>p(s.data))},[]),t.useEffect(()=>{let s=`/api/student/overview?type=${l}&filter=${n}`;l==="eskul"&&r&&(s+=`&eskul_id=${r}`),d.get(s).then(b=>o(b.data))},[n,l,r]),!i||!a)return e.jsx("p",{className:"p-4",children:"Loading..."});const f=()=>{c.post("/logout")};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"min-h-screen bg-white ",children:[e.jsxs("div",{className:"bg-purple-900 text-white p-6 flex items-center gap-4 ",children:[e.jsx("img",{src:i?.avatar||"/default-avatar.png",alt:"Foto Profil",className:"w-18 h-18 rounded-full object-cover"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-semibold",children:i.name}),e.jsx("p",{className:"text-sm",children:i.kelas?.name}),e.jsxs("button",{onClick:()=>c.visit("/murid/edit-profile"),className:"text-sm underline flex items-center mt-1 hover:text-purple-200",children:[e.jsx(v,{className:"w-4 h-4 mr-1"}),e.jsx("span",{children:"Ubah Profil"})]})]}),e.jsx("button",{onClick:f,className:"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded",children:"Logout"})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(N,{className:"w-4 h-4 text-gray-700"}),e.jsx("span",{className:"font-semibold text-gray-800",children:"Filter"})]}),e.jsxs("div",{className:"flex gap-4 mb-6",children:[e.jsxs("select",{value:n,onChange:s=>m(s.target.value),className:"px-3 py-2 bg-white text-black border border-orange-400 rounded-md text-sm font-medium",children:[e.jsx("option",{value:"bulan_ini",children:"Bulan ini"}),e.jsx("option",{value:"bulan_lalu",children:"Bulan lalu"})]}),e.jsxs("select",{value:l,onChange:s=>h(s.target.value),className:"px-3 py-2 bg-white text-black border border-orange-400 rounded-md text-sm font-medium",children:[e.jsx("option",{value:"sekolah",children:"Kehadiran Sekolah"}),e.jsx("option",{value:"eskul",children:"Kehadiran Eskul"})]})]}),e.jsxs("div",{className:"bg-purple-400 rounded-xl p-4 text-white shadow-md",children:[e.jsx("h3",{className:"text-sm mb-3",children:"Overview Kehadiran"}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsxs("div",{className:"relative w-36 h-36 mb-2",children:[e.jsxs("svg",{className:"w-full h-full",children:[e.jsx("circle",{cx:"72",cy:"72",r:"60",stroke:"#ddd",strokeWidth:"12",fill:"none"}),e.jsx("circle",{cx:"72",cy:"72",r:"60",stroke:"#4ade80",strokeWidth:"12",fill:"none",strokeDasharray:"377",strokeDashoffset:377-377*a.percentage/100,strokeLinecap:"round"})]}),e.jsxs("span",{className:"absolute inset-0 flex items-center justify-center text-3xl font-bold",children:[a.percentage,"%"]})]}),l==="eskul"&&e.jsxs("select",{value:r??"",onChange:s=>j(Number(s.target.value)),className:"px-3 py-2 bg-white text-black  border-orange-400 rounded-md text-sm font-medium mb-2",children:[e.jsx("option",{value:"",children:"Pilih Eskul"}),u.map(s=>e.jsx("option",{value:s.id,children:s.nama},s.id))]}),e.jsx("p",{className:"text-white text-base mb-3",children:"Detail"}),e.jsxs("div",{className:"flex justify-center items-center w-full text-sm",children:[e.jsxs("div",{className:"flex flex-col gap-1 text-gray-200 text-xs pr-4",children:[e.jsxs("div",{className:"flex justify-between w-28",children:[e.jsx("span",{children:"Kehadiran"}),e.jsx("span",{className:"text-white",children:a.hadir})]}),e.jsxs("div",{className:"flex justify-between w-28",children:[e.jsx("span",{children:"Tidak Hadir"}),e.jsx("span",{className:"text-white",children:a.tidak_hadir})]}),e.jsxs("div",{className:"flex justify-between w-28",children:[e.jsx("span",{children:"Terlambat"}),e.jsx("span",{className:"text-white",children:a.terlambat})]})]}),e.jsx("div",{className:"h-10 w-[1.5px] bg-purple-900 mx-4"}),e.jsxs("div",{className:"flex flex-col items-start pl-4",children:[e.jsx("span",{className:"text-gray-200 text-xs",children:"Predikat"}),e.jsx("span",{className:"text-white text-lg",children:a.predikat})]})]})]})]})]})]}),e.jsx(g,{})]})};export{P as default};
