import{r as a,j as e,H as m,b as h,a as n}from"./app-Db-aw5MQ.js";import{A as p}from"./AuthenticatedLayout-CS7Tii-L.js";/* empty css            */n.defaults.withCredentials=!0;n.defaults.baseURL="http://127.0.0.1:8000";function v({qrCode:l,auth:d}){const[r,c]=a.useState(l),[i,x]=a.useState(20),u=()=>{h.reload({only:["qrCode"],onSuccess:t=>{const s=t.props;c(s.qrCode)},onError:()=>console.error("gagal fetch QR")})};return a.useEffect(()=>{let t,s;return(()=>{s=setInterval(()=>{u()},2e4),t=setInterval(()=>{x(o=>o===0?20:o-1)},1e3)})(),()=>{clearInterval(t),clearInterval(s)}},[]),e.jsxs(p,{user:d.user,children:[e.jsx(m,{title:"QR Code Saya"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsxs("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"QR Code Absensi Saya"}),r?e.jsx("div",{className:"flex justify-center",dangerouslySetInnerHTML:{__html:r}},r):e.jsx("p",{className:"text-center text-red-500",children:"QR Code tidak tersedia"}),e.jsxs("p",{className:"mt-2 text-center font-bold text-indigo-600",children:["Refreshing in ",i,"s"]}),e.jsx("p",{className:"mt-1 text-center text-sm text-gray-600",children:"Tunjukkan QR Code ini saat absensi"})]})})})]})}export{v as default};
