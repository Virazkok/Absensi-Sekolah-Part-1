import{r as o,d as _,j as e}from"./app-Db-aw5MQ.js";import{D,e as L,a as I,b as E,c as P}from"./dialog-BTz8PEvP.js";import{B as h}from"./button-CTj6SyfF.js";import{I as n}from"./input-CTXf7KjN.js";import{L as i}from"./label-BVcLCHDB.js";import{S as p,a as g,b as x,c as u,d}from"./select-DUpPVQxL.js";import{I as t}from"./input-error-DpRCFFzZ.js";import{L as K}from"./loader-circle-CSTa_mfy.js";/* empty css            */import"./index-D0XbYizj.js";import"./createLucideIcon-BBcfScga.js";import"./Combination-CeIkTSzD.js";import"./index-DKaELoCc.js";import"./index-BEN4BbhH.js";import"./index-BngaQRGO.js";import"./utils-NikRBbYi.js";import"./clsx-B-dksMZM.js";import"./index-DRPotTz5.js";import"./index-C_gZ3pLj.js";function ee(){const[j,c]=o.useState(!1),[f,v]=o.useState([]),[B,w]=o.useState([]),[b,N]=o.useState(!0),{data:a,setData:l,post:k,processing:m,errors:r,reset:y}=_({name:"",email:"",password:"",password_confirmation:"",kelas_id:"",nis:"",keahlian:"",role:"murid",eskul_siswa1_id:"",eskul_siswa2_id:"",eskul_siswa3_id:""});o.useEffect(()=>{Promise.all([fetch("/api/kelas").then(s=>s.json()),fetch("/api/eskuls").then(s=>s.json())]).then(([s,S])=>{v(s),w(S)}).finally(()=>N(!1))},[]);const C=s=>{s.preventDefault(),k(route("register"),{onSuccess:()=>{c(!1),y(),window.location.reload()}})};return e.jsxs(D,{open:j,onOpenChange:c,children:[e.jsx(L,{asChild:!0,children:e.jsx(h,{className:"bg-[#E4D2FC] hover:bg-[#D7BFFD] text-black font-medium px-4 py-2 rounded-lg",children:"Tambah User"})}),e.jsxs(I,{className:"!max-w-[900px] w-full bg-white p-10 rounded-2xl shadow-lg overflow-y-auto max-h-[70vh] text-gray-900",children:[e.jsx(E,{children:e.jsx(P,{className:"text-xl font-semibold text-gray-800",children:"Tambah Akun Baru"})}),e.jsxs("form",{onSubmit:C,className:"grid grid-cols-2 gap-6 mt-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{children:"Nama"}),e.jsx(n,{value:a.name,onChange:s=>l("name",s.target.value),placeholder:"cth. Bastian"}),e.jsx(t,{message:r.name})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{children:"NIS/NIP"}),e.jsx(n,{value:a.nis,onChange:s=>l("nis",s.target.value),placeholder:"cth. 12345"}),e.jsx(t,{message:r.nis})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{children:"Email"}),e.jsx(n,{type:"email",value:a.email,onChange:s=>l("email",s.target.value),placeholder:"email@example.com"}),e.jsx(t,{message:r.email})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{children:"Role"}),e.jsxs(p,{value:a.role,onValueChange:s=>l("role",s),children:[e.jsx(g,{className:"text-gray-900",children:e.jsx(x,{placeholder:"Pilih role",className:"text-gray-900"})}),e.jsxs(u,{children:[e.jsx(d,{value:"murid",children:"Murid"}),e.jsx(d,{value:"guru",children:"Guru"}),e.jsx(d,{value:"admin",children:"Admin"})]})]}),e.jsx(t,{message:r.role})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{children:"Kelas"}),e.jsxs(p,{value:String(a.kelas_id),onValueChange:s=>l("kelas_id",s),disabled:b,children:[e.jsx(g,{className:"text-gray-900",children:e.jsx(x,{placeholder:"Pilih kelas",className:"text-gray-900"})}),e.jsx(u,{children:f.map(s=>e.jsx(d,{value:String(s.id),children:s.name},s.id))})]}),e.jsx(t,{message:r.kelas_id})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{children:"Keahlian"}),e.jsx(n,{value:a.keahlian,onChange:s=>l("keahlian",s.target.value),placeholder:"cth. RPL, DKV, Akuntansi"}),e.jsx(t,{message:r.keahlian})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{children:"Password"}),e.jsx(n,{type:"password",value:a.password,onChange:s=>l("password",s.target.value),placeholder:"Masukkan password"}),e.jsx(t,{message:r.password})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{children:"Konfirmasi Password"}),e.jsx(n,{type:"password",value:a.password_confirmation,onChange:s=>l("password_confirmation",s.target.value),placeholder:"Ulangi password"}),e.jsx(t,{message:r.password_confirmation})]}),e.jsxs("div",{className:"col-span-2 flex justify-center mt-8 gap-4",children:[e.jsx(h,{type:"button",onClick:()=>c(!1),disabled:m,className:"bg-white border border-gray-300 w-40",children:"Kembali"}),e.jsxs(h,{type:"submit",disabled:m,className:"bg-gray-200 hover:bg-gray-300 text-black w-40",children:[m&&e.jsx(K,{className:"h-4 w-4 animate-spin"}),"Simpan"]})]})]})]})]})}export{ee as default};
