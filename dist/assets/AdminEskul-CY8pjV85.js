import{u as j,r as t,j as e,H as S,b as l}from"./app-XaT7IJdh.js";import{B as d}from"./button-CJGk2xfH.js";import{D as M,a as A,b as D,c as f}from"./dropdown-menu-BBOH4Fbv.js";import U from"./AdminEskulCreate-BZ969yLM.js";import _ from"./AdminEskulDetail-CegDE0EW.js";import H from"./AdminEskulAddAnggota-DFyUJEkG.js";/* empty css            */import"./clsx-B-dksMZM.js";import"./utils-NikRBbYi.js";import"./index-BLXukw4F.js";import"./index-DdspcVZP.js";import"./index-DJvn5aD7.js";import"./index-CArVgHNd.js";import"./index-C05xy4xP.js";function Q(){const{props:o}=j(),{eskuls:c,filters:b}=j().props,[m,N]=t.useState(b.search||""),[w,h]=t.useState(!1),[v,x]=t.useState(!1),[p,u]=t.useState(null),[K,k]=t.useState(null),y=s=>{s.preventDefault(),l.get(route("admin.eskul.index"),{search:m})},C=(s,a)=>{l.get(route("admin.eskul.index"),{page:a,eskul_id:s})};t.useEffect(()=>{const s=JSON.parse(localStorage.getItem("user")||"{}");s&&s.id&&(console.log("📦 User dari localStorage:",s),k(s))},[]);const E=s=>{const{current_page:a,last_page:i}=s.siswa;if(i<=1)return null;const n=[];for(let r=1;r<=i;r++)r===1||r===i||r>=a-2&&r<=a+2?n.push(r):n[n.length-1]!=="…"&&(r===a-3||r===a+3)&&n.push("…");return e.jsx("div",{className:"flex justify-end mt-3",children:e.jsx("div",{className:"flex gap-1 bg-white border border-gray-600 rounded-full px-2 py-1 shadow-sm",children:n.map((r,g)=>r==="…"?e.jsx("span",{className:"px-2 text-gray-500",children:"…"},g):e.jsx("button",{onClick:()=>C(s.id,r),className:`px-3 py-1 rounded-full text-sm ${r===a?"bg-orange-300 text-white font-semibold":"text-gray-700 hover:bg-gray-200"}`,children:r},g))})})};return e.jsxs("div",{className:"min-h-screen bg-gray-100 text-gray-900",children:[e.jsx(S,{title:"Ekstrakurikuler"}),e.jsxs("div",{className:"flex",children:[e.jsx("aside",{className:"hidden md:block md:w-60 bg-white p-4 shadow-lg min-h-screen",children:e.jsxs("nav",{className:"space-y-2 text-sm",children:[e.jsxs("div",{onClick:()=>window.location.href="/Admin/Dashboard",className:"p-2 rounded hover:bg-gray-200 cursor-pointer flex items-center gap-2",children:[e.jsx("img",{src:"/icons/ri--dashboard-line.svg",alt:""}),"Dashboard"]}),e.jsxs("div",{onClick:()=>window.location.href="/Admin/UserManagement",className:"p-2 rounded hover:bg-gray-200 cursor-pointer flex items-center gap-2",children:[e.jsx("img",{src:"/icons/ri--user-settings-line.svg",alt:""})," User Manajemen"]}),e.jsxs("div",{onClick:()=>window.location.href="/admin/events",className:"p-2 rounded hover:bg-gray-200 cursor-pointer flex items-center gap-2",children:[e.jsx("img",{src:"/icons/ri--list-settings-line.svg",alt:""})," Event Manajemen"]}),e.jsxs("div",{onClick:()=>window.location.href="/admin/eskul",className:"p-2 rounded bg-[#E86D1F] font-medium cursor-pointer text-white flex items-center gap-2",children:[e.jsx("img",{src:"/icons/ri--user-community-lineW.svg",alt:""})," Ekstrakurikuler"]}),e.jsxs("div",{onClick:()=>window.location.href="/admin/riwayat-kehadiran",className:"p-2 rounded hover:bg-gray-200 cursor-pointer flex items-center gap-2",children:[e.jsx("img",{src:"/icons/ri--history-line.svg",alt:""})," Riwayat Kehadiran"]}),e.jsxs("div",{onClick:()=>window.location.href="/admin/statistik-kehadiran",className:"p-2 rounded hover:bg-gray-200 cursor-pointer flex items-center gap-2",children:[e.jsx("img",{src:"/icons/ri--pie-chart-2-line.svg",alt:""})," Statistik Kehadiran"]}),e.jsxs("div",{onClick:()=>window.location.href="/admin/laporan-kehadiran",className:"p-2 rounded hover:bg-gray-200 cursor-pointer flex items-center gap-2",children:[e.jsx("img",{src:"/icons/ri--file-text-line.svg",alt:""})," Laporan"]})]})}),e.jsxs("main",{className:"flex-1 p-6",children:[e.jsxs("div",{className:"flex flex-wrap justify-between items-center mb-6 gap-3",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Ekstrakurikuler"}),e.jsxs("div",{className:"flex items-center bg-white p-2 gap-10 rounded-xl shadow border",children:[e.jsxs("div",{className:"flex items-center gap-2 p-2",children:[e.jsx("img",{src:o.auth?.user?.avatar??"/images/avatar-placeholder.png",alt:"avatar",className:"w-8 h-8 rounded-full object-cover"}),e.jsx("div",{className:"text-[16px]",children:o.auth?.user?.name??"Admin"})]}),e.jsxs("div",{children:[e.jsx("button",{className:"p-2 rounded bg-white",children:"⚙️"}),e.jsx("button",{className:"p-2 rounded bg-white",children:"🔓"})]})]})]}),e.jsx("div",{className:"flex justify-between items-center"}),e.jsxs("div",{className:"flex justify-between items-center mb-2 mt-10",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:["Semua Ekstrakurikuler : ",c.length]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("form",{onSubmit:y,className:"flex gap-2",children:e.jsx("input",{type:"text",placeholder:"Cari nama eskul",value:m,onChange:s=>N(s.target.value),className:"border rounded-lg p-1 border border-purple-700"})}),e.jsx(d,{onClick:()=>x(!0),className:"border border-purple-700 bg-white-600 text-gray-900 hover:bg-purple-700 hover:text-white",children:"Tambah Anggota"}),e.jsx(d,{onClick:()=>h(!0),className:"bg-purple-600 hover:bg-purple-700 text-white",children:"Tambah Eskul"})]})]}),c.map(s=>e.jsxs("div",{className:"mb-8 bg-white p-2 rounded-xl shadow border border-[#6200EE]",children:[e.jsx("h2",{className:"text-xl font-semibold mb-3 ml-2",children:s.nama}),e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b",children:[e.jsx("th",{className:"p-2 w-12 text-center",children:"No"}),e.jsx("th",{className:"p-2 text-left",children:"Nama Siswa"}),e.jsx("th",{className:"p-2 text-left",children:"Kelas"}),e.jsx("th",{className:"p-2 text-left",children:"Kejuruan"}),e.jsx("th",{className:"p-2 text-center",children:"Aksi"})]})}),e.jsx("tbody",{children:s.siswa.data.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"text-center p-4 text-gray-500",children:"Belum ada anggota"})}):s.siswa.data.map((a,i)=>e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"p-2 text-center",children:s.siswa.from+i}),e.jsx("td",{className:"p-2",children:a.name}),e.jsx("td",{className:"p-2",children:a.kelas?.name}),e.jsx("td",{className:"p-2",children:a.keahlian||"-"}),e.jsx("td",{className:"p-2 text-center",children:e.jsxs(M,{children:[e.jsx(A,{asChild:!0,children:e.jsx(d,{className:"text-black bg-white cursor-pointer",size:"sm",children:"..."})}),e.jsxs(D,{align:"end",children:[e.jsx(f,{className:"cursor-pointer",onClick:()=>u(s),children:"Detail"}),e.jsx(f,{className:"cursor-pointer text-red-600",onClick:()=>{confirm(`Hapus ${a.name} dari ${s.nama}?`)&&l.delete(route("admin.eskul.removeMember",{eskul:s.id}),{data:{user_id:a.id}})},children:"Hapus"})]})]})})]},a.id))})]}),E(s)]},s.id))]})]}),v&&e.jsx(H,{onClose:()=>x(!1)}),w&&e.jsx(U,{onClose:()=>h(!1)}),p&&e.jsx(_,{eskul:p,onClose:()=>u(null)})]})}export{Q as default};
