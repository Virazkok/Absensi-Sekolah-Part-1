import{r as o,d as _,j as e}from"./app-XaT7IJdh.js";import{D,e as L,a as E,b as I,c as P}from"./dialog-aSDCWncb.js";import{B as h}from"./button-CJGk2xfH.js";import{I as n}from"./input-Ip1Z780n.js";import{L as i}from"./label-cTLK_AVk.js";import{S as p,a as g,b as x,c as u,d}from"./select-DDqEtzWm.js";import{I as t}from"./input-error-Bjc7KgQk.js";import{L as B}from"./loader-circle-igEfraLn.js";/* empty css            */import"./index-D6O2XGgT.js";import"./createLucideIcon-PjBRytQg.js";import"./index-BLXukw4F.js";import"./index-DdspcVZP.js";import"./index-DJvn5aD7.js";import"./index-C05xy4xP.js";import"./utils-NikRBbYi.js";import"./clsx-B-dksMZM.js";import"./index-CArVgHNd.js";import"./index-DHwZL11B.js";function ee(){const[j,m]=o.useState(!1),[v,f]=o.useState([]),[K,w]=o.useState([]),[b,N]=o.useState(!0),{data:a,setData:r,post:k,processing:c,errors:l,reset:y}=_({name:"",email:"",password:"",password_confirmation:"",kelas_id:"",nis:"",keahlian:"",role:"murid",eskul_siswa1_id:"",eskul_siswa2_id:"",eskul_siswa3_id:""});o.useEffect(()=>{Promise.all([fetch("/api/kelas").then(s=>s.json()),fetch("/api/eskuls").then(s=>s.json())]).then(([s,C])=>{f(s),w(C)}).finally(()=>N(!1))},[]);const S=s=>{s.preventDefault(),k(route("register"),{onSuccess:()=>{m(!1),y(),window.location.reload()}})};return e.jsxs(D,{open:j,onOpenChange:m,children:[e.jsx(L,{asChild:!0,children:e.jsx(h,{className:"text-sm bg-[#8B23ED] text-white px-3 py-1 rounded mr-2 hover:text-sm bg-[#8B23ED]",children:"Tambah"})}),e.jsxs(E,{className:"!max-w-[900px] w-full bg-white p-10 rounded-2xl shadow-lg overflow-y-auto max-h-[70vh] text-gray-900",children:[e.jsx(I,{children:e.jsx(P,{className:"text-xl font-semibold text-gray-800",children:"Tambah Akun Baru"})}),e.jsxs("form",{onSubmit:S,className:"grid grid-cols-2 gap-6 mt-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{children:"Nama"}),e.jsx(n,{value:a.name,onChange:s=>r("name",s.target.value),placeholder:"cth. Bastian"}),e.jsx(t,{message:l.name})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{children:"NIS/NIP"}),e.jsx(n,{value:a.nis,onChange:s=>r("nis",s.target.value),placeholder:"cth. 12345"}),e.jsx(t,{message:l.nis})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{children:"Email"}),e.jsx(n,{type:"email",value:a.email,onChange:s=>r("email",s.target.value),placeholder:"email@example.com"}),e.jsx(t,{message:l.email})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{children:"Role"}),e.jsxs(p,{value:a.role,onValueChange:s=>r("role",s),children:[e.jsx(g,{className:"text-gray-900",children:e.jsx(x,{placeholder:"Pilih role",className:"text-gray-900"})}),e.jsxs(u,{children:[e.jsx(d,{value:"murid",children:"Murid"}),e.jsx(d,{value:"guru",children:"Guru"}),e.jsx(d,{value:"admin",children:"Admin"})]})]}),e.jsx(t,{message:l.role})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{children:"Kelas"}),e.jsxs(p,{value:String(a.kelas_id),onValueChange:s=>r("kelas_id",s),disabled:b,children:[e.jsx(g,{className:"text-gray-900",children:e.jsx(x,{placeholder:"Pilih kelas",className:"text-gray-900"})}),e.jsx(u,{children:v.map(s=>e.jsx(d,{value:String(s.id),children:s.name},s.id))})]}),e.jsx(t,{message:l.kelas_id})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{children:"Keahlian"}),e.jsx(n,{value:a.keahlian,onChange:s=>r("keahlian",s.target.value),placeholder:"cth. RPL, DKV, Akuntansi"}),e.jsx(t,{message:l.keahlian})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{children:"Password"}),e.jsx(n,{type:"password",value:a.password,onChange:s=>r("password",s.target.value),placeholder:"Masukkan password"}),e.jsx(t,{message:l.password})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{children:"Konfirmasi Password"}),e.jsx(n,{type:"password",value:a.password_confirmation,onChange:s=>r("password_confirmation",s.target.value),placeholder:"Ulangi password"}),e.jsx(t,{message:l.password_confirmation})]}),e.jsxs("div",{className:"col-span-2 flex justify-center mt-8 gap-4",children:[e.jsx(h,{type:"button",onClick:()=>m(!1),disabled:c,className:"bg-white border border-gray-300 w-40",children:"Kembali"}),e.jsxs(h,{type:"submit",disabled:c,className:"bg-gray-200 hover:bg-gray-300 text-black w-40",children:[c&&e.jsx(B,{className:"h-4 w-4 animate-spin"}),"Simpan"]})]})]})]})]})}export{ee as default};
