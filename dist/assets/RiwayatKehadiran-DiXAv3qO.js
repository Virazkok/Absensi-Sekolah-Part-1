import{r as a,a as y,j as e}from"./app-Db-aw5MQ.js";import{d as N}from"./dayjs.min-CA_xttg3.js";import{F as K}from"./filter-VEGg2tVV.js";import{c as z}from"./createLucideIcon-BBcfScga.js";import{C as k}from"./chevron-left-DiC1_UpU.js";import{C as v}from"./chevron-right-DT_mBIMY.js";/* empty css            *//**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],D=z("Search",M),P=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],G=()=>{const[n,p]=a.useState("bulan"),[t,o]=a.useState(N().month()+1),[r,d]=a.useState(N().year()),[i,c]=a.useState(1),[g,w]=a.useState(""),[F,C]=a.useState([]),[h,S]=a.useState(1),[l,E]=a.useState("sekolah"),[m,B]=a.useState(null),[T,R]=a.useState([]),x=10,L=async()=>{try{const s=await y.get("http://127.0.0.1:8000/api/admin/riwayat-kehadiran",{params:{filter:n,bulan:t,tahun:r,semester:i,type:l,eskul_id:m}});C(s.data.data||[])}catch(s){console.error("Error fetching data",s)}};a.useEffect(()=>{L()},[n,t,i,l,m,r]),a.useEffect(()=>{l==="eskul"&&y.get("http://127.0.0.1:8000/api/eskul/list").then(s=>{R(s.data),s.data.length>0&&!m&&B(s.data[0].id)})},[l]);const b=s=>{s==="prev"?i===1?(c(2),d(r-1)):c(1):i===2?(c(1),d(r+1)):c(2)},j=F.filter(s=>(s.nama||"").toLowerCase().includes(g.toLowerCase())),f=j.slice((h-1)*x,h*x),A=Math.ceil(j.length/x);return e.jsxs("div",{className:"min-h-screen bg-[#F7F7F7] text-gray-900 flex",children:[e.jsx("aside",{className:"w-56 bg-white h-screen p-4 shadow",children:e.jsxs("nav",{className:"space-y-2 text-sm",children:[e.jsx("div",{onClick:()=>window.location.href="/Admin/Dashboard",className:"p-2 rounded hover:bg-gray-200 cursor-pointer",children:"ðŸ  Dashboard"}),e.jsx("div",{onClick:()=>window.location.href="/Admin/UserManagement",className:"p-2 rounded hover:bg-gray-200 cursor-pointer",children:"ðŸ‘¥ User Manajemen"}),e.jsx("div",{onClick:()=>window.location.href="/admin/events",className:"p-2 rounded hover:bg-gray-200 cursor-pointer",children:"ðŸ“… Event Manajemen"}),e.jsx("div",{className:"p-2 rounded hover:bg-gray-200 cursor-pointer",onClick:()=>window.location.href="/admin/eskul",children:"âš½ Ekstrakurikuler"}),e.jsx("div",{className:"p-2 rounded bg-[#E86D1F] font-medium cursor-pointer text-white",onClick:()=>window.location.href="/admin/riwayat-kehadiran",children:"ðŸ“ˆ Riwayat Kehadiran"}),e.jsx("div",{className:"p-2 rounded hover:bg-gray-200 cursor-pointer",onClick:()=>window.location.href="/admin/statistik-kehadiran",children:"ðŸ“ˆ Statistik Kehadiran"}),e.jsx("div",{className:"p-2 rounded hover:bg-gray-200 cursor-pointer",onClick:()=>window.location.href="/admin/laporan-kehadiran",children:"ðŸ“„ Laporan"})]})}),e.jsxs("main",{className:"flex-1 p-8",children:[e.jsx("h1",{className:"text-2xl font-bold mb-8",children:"Riwayat Kehadiran"}),e.jsxs("div",{className:"bg-white rounded-2xl shadow border border-[#C9A2FF] p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-6",children:"Rekap Kehadiran Siswa"}),e.jsxs("div",{className:"flex flex-wrap items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{className:"flex items-center gap-2 bg-[#7B4EFF] text-white px-4 py-2 rounded-lg hover:bg-[#6939da]",children:[e.jsx(K,{size:16})," Filter"]}),e.jsx("button",{onClick:()=>p("bulan"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${n==="bulan"?"bg-[#7B4EFF] text-white":"bg-white text-[#7B4EFF] border border-[#7B4EFF]"}`,children:"Bulanan"}),e.jsx("button",{onClick:()=>p("semester"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${n==="semester"?"bg-[#7B4EFF] text-white":"bg-white text-[#7B4EFF] border border-[#7B4EFF]"}`,children:"Semester"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("select",{value:l,onChange:s=>E(s.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-[#C9A2FF]",children:[e.jsx("option",{value:"sekolah",children:"Rekapan Sekolah"}),e.jsx("option",{value:"eskul",children:"Rekapan Eskul"})]}),e.jsxs("div",{className:"flex items-center border border-gray-300 rounded-lg px-3 py-2",children:[e.jsx(D,{size:16,className:"text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Cari siswa",value:g,onChange:s=>w(s.target.value),className:"ml-2 outline-none text-sm w-40"})]})]})]}),n==="bulan"?e.jsxs("div",{className:"flex items-center gap-3 mb-6 text-gray-700",children:[e.jsx("button",{onClick:()=>o(t===1?12:t-1),className:"hover:text-[#7B4EFF]",children:e.jsx(k,{size:18})}),e.jsxs("span",{className:"font-medium text-base",children:[P[t-1]," ",r]}),e.jsx("button",{onClick:()=>{t===12?(o(1),d(r+1)):o(t+1)},className:"hover:text-[#7B4EFF]",children:e.jsx(v,{size:18})})]}):e.jsxs("div",{className:"flex items-center gap-3 mb-6 text-gray-700",children:[e.jsx("button",{onClick:()=>b("prev"),className:"hover:text-[#7B4EFF]",children:e.jsx(k,{size:18})}),e.jsxs("span",{className:"font-medium text-base",children:["Semester ",i," ",r]}),e.jsx("button",{onClick:()=>b("next"),className:"hover:text-[#7B4EFF]",children:e.jsx(v,{size:18})})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b bg-gray-50",children:[e.jsx("th",{className:"py-2",children:"Nama Siswa"}),e.jsx("th",{className:"py-2",children:"Kelas"}),e.jsx("th",{className:"py-2",children:"Keahlian"}),e.jsx("th",{className:"py-2",children:"Total"}),e.jsx("th",{className:"py-2",children:"Persentase"})]})}),e.jsx("tbody",{children:f.length>0?f.map((s,u)=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"py-2",children:s.nama??"-"}),e.jsx("td",{className:"py-2",children:s.kelas??"-"}),e.jsx("td",{className:"py-2",children:s.keahlian??"-"}),e.jsx("td",{className:"py-2",children:s.total??"0/0"}),e.jsx("td",{className:"py-2",children:s.persentase??"0%"})]},u)):e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"text-center text-gray-500 py-4",children:"Tidak ada data"})})})]})}),e.jsx("div",{className:"flex justify-end mt-4 gap-1",children:Array.from({length:A},(s,u)=>u+1).map(s=>e.jsx("button",{onClick:()=>S(s),className:`px-3 py-1 rounded-full border text-sm ${h===s?"bg-[#FF6B00] text-white border-[#FF6B00]":"bg-white border-gray-300 hover:bg-gray-100"}`,children:s},s))})]})]})]})};export{G as default};
