import{r as n,d as D,j as e}from"./app-XaT7IJdh.js";import{D as _,e as L,a as E,b as I,c as B}from"./dialog-aSDCWncb.js";import{B as h}from"./button-CJGk2xfH.js";import{I as o}from"./input-Ip1Z780n.js";import{L as i}from"./label-cTLK_AVk.js";import{S as x,a as g,b as p,c as u,d}from"./select-DDqEtzWm.js";import{I as t}from"./input-error-Bjc7KgQk.js";import{L as P}from"./loader-circle-igEfraLn.js";/* empty css            */import"./index-D6O2XGgT.js";import"./createLucideIcon-PjBRytQg.js";import"./index-BLXukw4F.js";import"./index-DdspcVZP.js";import"./index-DJvn5aD7.js";import"./index-C05xy4xP.js";import"./utils-NikRBbYi.js";import"./clsx-B-dksMZM.js";import"./index-CArVgHNd.js";import"./index-DHwZL11B.js";function ee(){const[j,c]=n.useState(!1),[v,f]=n.useState([]),[K,b]=n.useState([]),[N,w]=n.useState(!0),{data:a,setData:l,post:k,processing:m,errors:r,reset:y}=D({name:"",email:"",password:"",kelas_id:"",nis:"",keahlian:"",role:"murid",eskul_siswa1_id:"",eskul_siswa2_id:"",eskul_siswa3_id:"",status:""});n.useEffect(()=>{Promise.all([fetch("/api/kelas").then(s=>s.json()),fetch("/api/eskuls").then(s=>s.json())]).then(([s,C])=>{f(s),b(C)}).finally(()=>w(!1))},[]);const S=s=>{s.preventDefault(),k(route("register"),{onSuccess:()=>{c(!1),y(),window.location.reload()}})};return e.jsxs(_,{open:j,onOpenChange:c,children:[e.jsx(L,{asChild:!0,children:e.jsx(h,{className:"border border-[#8B23ED] bg-[#8B23ED] hover:bg-[#D7BFFD] text-white font-medium px-4 py-2 rounded-lg shadow-[4.0px_4.0px_8.0px_rgba(0,0,0,0.38)]",children:"Tambah User"})}),e.jsxs(E,{className:"!max-w-[900px] w-full bg-white p-10 rounded-2xl shadow-lg overflow-y-auto max-h-[70vh] text-gray-900",children:[e.jsx(I,{children:e.jsx(B,{className:"text-xl font-semibold text-gray-800",children:"Tambah Akun Baru"})}),e.jsxs("form",{onSubmit:S,className:"grid grid-cols-2 gap-6 mt-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{children:"Nama"}),e.jsx(o,{value:a.name,onChange:s=>l("name",s.target.value),placeholder:"cth. Bastian"}),e.jsx(t,{message:r.name})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{children:"NIS/NIP"}),e.jsx(o,{value:a.nis,onChange:s=>l("nis",s.target.value),placeholder:"cth. 12345"}),e.jsx(t,{message:r.nis})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{children:"Kelas"}),e.jsxs(x,{value:String(a.kelas_id),onValueChange:s=>l("kelas_id",s),disabled:N,children:[e.jsx(g,{className:"text-gray-900",children:e.jsx(p,{placeholder:"Pilih kelas",className:"text-gray-900"})}),e.jsx(u,{children:v.map(s=>e.jsx(d,{value:String(s.id),children:s.name},s.id))})]}),e.jsx(t,{message:r.kelas_id})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{children:"Keahlian"}),e.jsx(o,{value:a.keahlian,onChange:s=>l("keahlian",s.target.value),placeholder:"cth. RPL, DKV, Akuntansi"}),e.jsx(t,{message:r.keahlian})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{children:"Email"}),e.jsx(o,{type:"email",value:a.email,onChange:s=>l("email",s.target.value),placeholder:"email@example.com"}),e.jsx(t,{message:r.email})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{children:"Password"}),e.jsx(o,{type:"password",value:a.password,onChange:s=>l("password",s.target.value),placeholder:"Masukkan password"}),e.jsx(t,{message:r.password})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{children:"Status"}),e.jsx(x,{value:a.status,onValueChange:s=>l("status",s),children:e.jsx(g,{className:"text-gray-900",children:e.jsx(p,{placeholder:"Aktif",className:"text-gray-900"})})}),e.jsx(t,{message:r.status})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{children:"Role"}),e.jsxs(x,{value:a.role,onValueChange:s=>l("role",s),children:[e.jsx(g,{className:"text-gray-900",children:e.jsx(p,{placeholder:"Pilih role",className:"text-gray-900"})}),e.jsxs(u,{children:[e.jsx(d,{value:"murid",children:"Murid"}),e.jsx(d,{value:"guru",children:"Guru"}),e.jsx(d,{value:"admin",children:"Admin"})]})]}),e.jsx(t,{message:r.role})]}),e.jsxs("div",{className:"col-span-2 flex justify-center mt-8 gap-4",children:[e.jsx(h,{type:"button",onClick:()=>c(!1),disabled:m,className:"bg-white border border-gray-300 w-40",children:"Kembali"}),e.jsxs(h,{type:"submit",disabled:m,className:"bg-gray-200 hover:bg-gray-300 text-black w-40",children:[m&&e.jsx(P,{className:"h-4 w-4 animate-spin"}),"Simpan"]})]})]})]})]})}export{ee as default};
