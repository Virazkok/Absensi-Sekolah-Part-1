import{u,r as j,d as p,j as e,H as f}from"./app-XaT7IJdh.js";import{A as b}from"./AuthenticatedLayout-t6Yl5pHZ.js";import{B as r}from"./button-CJGk2xfH.js";import{I as d}from"./input-Ip1Z780n.js";import{L as m}from"./label-cTLK_AVk.js";/* empty css            */import"./clsx-B-dksMZM.js";import"./utils-NikRBbYi.js";import"./index-DdspcVZP.js";import"./index-DJvn5aD7.js";function A(){const{auth:c,absensi:a}=u().props,[o,i]=j.useState(!1),{data:l,setData:n,put:x,processing:h,errors:t}=p({tanggal:a.tanggal,jam_mulai:a.jam_mulai,jam_selesai:a.jam_selesai}),g=s=>{s.preventDefault(),x(route("admin.eskul.absensi.update",a.id),{onSuccess:()=>i(!1)})};return e.jsxs(b,{user:c.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-900 leading-tight",children:"Detail Absensi"}),children:[e.jsx(f,{title:"Detail Absensi"}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:[e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg p-6 mb-6 text-gray-900",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{children:a.eskul?.nama??"Tanpa Nama Eskul"}),e.jsx("p",{children:a.tanggal?new Date(a.tanggal).toLocaleDateString("id-ID",{weekday:"long",day:"numeric",month:"long",year:"numeric"}):"Invalid Date"}),e.jsx("span",{className:`... ${a.dipublish?"bg-green-100":"bg-yellow-100"}`,children:a.dipublish?"Published":"Draft"})]}),e.jsx("div",{className:"space-x-2",children:e.jsx(r,{onClick:()=>i(!0),children:"Edit"})})]})}),e.jsxs("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg p-6 text-gray-900",children:[e.jsxs("h4",{className:"text-lg font-semibold mb-4",children:["Daftar Kehadiran (",(a.kehadiran??[]).length,")"]}),a.kehadiran.length?e.jsx("div",{className:"space-y-4",children:a.kehadiran.map(s=>e.jsxs("div",{className:"flex items-center justify-between border-b pb-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:s.user.name}),e.jsx("p",{className:"text-sm text-gray-500",children:new Date(s.created_at).toLocaleString("id-ID",{weekday:"long",day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})})]}),e.jsx("a",{href:`http://localhost:8000/storage/${s.foto_path}`,target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 text-sm underline",children:"Lihat Foto"})]},s.id))}):e.jsx("p",{className:"text-gray-500",children:"Belum ada yang mengisi kehadiran."})]}),o&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-30 text-gray-900",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md",children:[e.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Edit Jadwal"}),e.jsxs("form",{onSubmit:g,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(m,{children:"Tanggal"}),e.jsx(d,{type:"date",value:l.tanggal,onChange:s=>n("tanggal",s.target.value)}),t.tanggal&&e.jsx("p",{className:"text-red-500 text-sm",children:t.tanggal})]}),e.jsxs("div",{children:[e.jsx(m,{children:"Jam Mulai"}),e.jsx(d,{type:"time",value:l.jam_mulai,onChange:s=>n("jam_mulai",s.target.value)}),t.jam_mulai&&e.jsx("p",{className:"text-red-500 text-sm",children:t.jam_mulai})]}),e.jsxs("div",{children:[e.jsx(m,{children:"Jam Selesai"}),e.jsx(d,{type:"time",value:l.jam_selesai,onChange:s=>n("jam_selesai",s.target.value)}),t.jam_selesai&&e.jsx("p",{className:"text-red-500 text-sm",children:t.jam_selesai})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(r,{type:"button",variant:"outline",onClick:()=>i(!1),children:"Batal"}),e.jsx(r,{disabled:h,children:"Simpan"})]})]})]})})]})})]})}export{A as default};
